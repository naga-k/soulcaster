# Soulcaster Environment Variables
# Copy this file to .env (backend) and .env.local (dashboard) and fill in your values

# =============================================================================
# REDIS CONFIGURATION (Required)
# =============================================================================
# Upstash Redis REST API credentials
# Get these from your Upstash dashboard: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# Alternative: Standard Redis URL (if not using Upstash REST API)
# REDIS_URL=redis://localhost:6379
# UPSTASH_REDIS_URL=redis://your-redis-instance:6379

# =============================================================================
# LLM CONFIGURATION (Required)
# =============================================================================
# Google Gemini API key for embeddings and code generation
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key
# Alternative name (both are supported)
# GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key

# Optional: Kilo API model ID (for coding agent)
# KILO_API_MODEL_ID=gemini-2.5-flash-preview-04-17

# =============================================================================
# GITHUB CONFIGURATION (REQUIRED)
# =============================================================================
# GitHub OAuth (for user authentication)
# Create OAuth app at: https://github.com/settings/developers
# Authorization callback URL: http://localhost:3000/api/auth/callback/github
# Scopes requested: repo, read:user
#
# How it works:
# - Users sign in with GitHub OAuth
# - Their access token is used to create PRs from their account
# - PRs show the user's name (e.g., @username), not a bot
# - Each user uses their own GitHub permissions
#
# Future roadmap:
# - GitHub App support coming for bot-based PRs (soulcaster[bot])
# - Will allow fine-grained repo permissions and organization installs
GITHUB_ID=your-github-oauth-client-id
GITHUB_SECRET=your-github-oauth-client-secret

# =============================================================================
# REDDIT CONFIGURATION (Optional)
# =============================================================================
# Comma-separated list of subreddits to monitor
# Example: "claudeai,programming,learnpython"
REDDIT_SUBREDDITS=claudeai

# Optional: Reddit sort methods (comma-separated: new, hot, top)
# REDDIT_SORTS=new

# Optional: Polling interval
# REDDIT_POLL_INTERVAL_SECONDS=300
# REDDIT_POLL_INTERVAL_MINUTES=5

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================
# Backend API URL (defaults to http://localhost:8000)
BACKEND_URL=http://localhost:8000

# =============================================================================
# DASHBOARD CONFIGURATION (for .env.local)
# =============================================================================
# Next.js public backend URL (for client-side API calls)
# NEXT_PUBLIC_BACKEND_URL=http://localhost:8000

# NextAuth configuration
# Generate secret with: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-here

# =============================================================================
# AWS ECS CONFIGURATION (Optional - for running coding agent on ECS)
# =============================================================================
# Only needed if using AWS ECS to run the coding agent
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# ECS_CLUSTER_NAME=your-ecs-cluster
# ECS_TASK_DEFINITION=your-task-definition
# ECS_SUBNET_IDS=subnet-123,subnet-456
# ECS_SECURITY_GROUP_IDS=sg-123,sg-456

# =============================================================================
# CODING AGENT CONFIGURATION (Optional)
# =============================================================================
# E2B (sandbox runner)
# Required when CODING_AGENT_RUNNER=sandbox_kilo
E2B_API_KEY=your-e2b-api-key
# E2B template name (recommended) or ID; name should match your E2B template
KILOCODE_TEMPLATE_NAME=kilo-sandbox-v-0-1-dev

# =============================================================================
# VERCEL BLOB STORAGE (Required for log archival)
# =============================================================================
# Vercel Blob storage token for archiving job logs
# Get from: https://vercel.com/dashboard/stores
# Logs are stored in Redis during execution, then archived to Blob on completion
BLOB_READ_WRITE_TOKEN=your-vercel-blob-token

# Git configuration for commits made by the coding agent
# GIT_USER_NAME=Soulcaster
# GIT_USER_EMAIL=agent@example.com

# GitHub token used by the agent (same as above)
# GITHUB_TOKEN=ghp_your-github-token
