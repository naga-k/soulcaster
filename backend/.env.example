# ============================================================================
# Soulcaster Backend Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env files with real credentials to version control

# ----------------------------------------------------------------------------
# Environment
# ----------------------------------------------------------------------------
# Set to "development" for dev, "production" for prod
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Upstash Redis (Primary Data Store)
# ----------------------------------------------------------------------------
# Option 1: REST API (Recommended for serverless/Vercel/Sevalla)
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-rest-token

# Option 2: Native Redis URL (Alternative)
# REDIS_URL=redis://default:your-password@your-instance.upstash.io:6379
# UPSTASH_REDIS_URL=redis://default:your-password@your-instance.upstash.io:6379

# ----------------------------------------------------------------------------
# Upstash Vector (Embeddings & Clustering)
# ----------------------------------------------------------------------------
UPSTASH_VECTOR_REST_URL=https://your-vector-instance.upstash.io
UPSTASH_VECTOR_REST_TOKEN=your-upstash-vector-token

# ----------------------------------------------------------------------------
# Google Gemini (LLM & Embeddings)
# ----------------------------------------------------------------------------
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key
GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key

# ----------------------------------------------------------------------------
# GitHub OAuth (for NextAuth in Dashboard)
# ----------------------------------------------------------------------------
# Create OAuth app at: https://github.com/settings/developers
GITHUB_ID=your-github-oauth-client-id
GITHUB_SECRET=your-github-oauth-client-secret

# GitHub Personal Access Token (for agent operations)
# Create at: https://github.com/settings/tokens
# Scopes needed: repo, read:user
GITHUB_TOKEN=ghp_your-personal-access-token

# ----------------------------------------------------------------------------
# E2B Sandbox (Coding Agent Runtime)
# ----------------------------------------------------------------------------
# Get from: https://e2b.dev/dashboard
E2B_API_KEY=your-e2b-api-key

# E2B template name (custom sandbox image)
KILOCODE_TEMPLATE_NAME=kilo-sandbox-v-0-1-dev

# Coding agent runner type: "sandbox_kilo" (default/recommended) or "aws"
CODING_AGENT_RUNNER=sandbox_kilo

# ----------------------------------------------------------------------------
# AWS (Only needed if using ECS Fargate runner - deprecated)
# ----------------------------------------------------------------------------
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# ECS_CLUSTER_NAME=soulcaster-cluster
# ECS_TASK_DEFINITION=soulcaster-agent
# ECS_SUBNET_ID=subnet-xxxxx
# ECS_SECURITY_GROUP_ID=sg-xxxxx

# ----------------------------------------------------------------------------
# Backend URL (for agent callbacks)
# ----------------------------------------------------------------------------
# DEV: http://localhost:8000
# PROD: https://your-backend.sevalla.app
BACKEND_URL=http://localhost:8000

# ----------------------------------------------------------------------------
# Git Configuration (for coding agent commits)
# ----------------------------------------------------------------------------
GIT_USER_EMAIL=soulcaster-bot@example.com
GIT_USER_NAME=Soulcaster Bot

# ----------------------------------------------------------------------------
# CORS Settings
# ----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# DEV: http://localhost:3000
# PROD: https://your-dashboard.vercel.app
ALLOWED_ORIGINS=http://localhost:3000

# ----------------------------------------------------------------------------
# Optional: Sentry Error Tracking
# ----------------------------------------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
